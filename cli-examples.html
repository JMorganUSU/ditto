

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DiTTo examples &mdash; DiTTo  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/DiTTo_Logo.png"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notes" href="notes.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> DiTTo
          

          
            
            <img src="_static/DiTTo_Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DiTTo examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage-converting-from-one-format-to-another">Basic usage: Converting from one format to another</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#method-1-through-the-command-line">Method 1: Through the command line</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-convert-command">The convert command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#from-and-to">From and To</a></li>
<li class="toctree-l4"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#convert-the-ieee-4-node-from-gridlabd-to-opendss">Convert the IEEE 4 node from GridlabD to OpenDSS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#convert-the-ieee-13-node-from-opendss-to-cyme">Convert the IEEE 13 node from OpenDSS to CYME</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#method-2-writing-a-script">Method 2: Writing a script</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-1-import-the-required-modules">Step 1: Import the required modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-instanciate-an-empty-store">Step 2: Instanciate an empty store</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-instanciate-a-reader">Step 3: Instanciate a reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-4-parse">Step 4: Parse</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-5-instanciate-the-writer">Step 5: Instanciate the writer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-6-write">Step 6: Write</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notes.html#tips-to-use-ditto">Tips to use DiTTo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notes.html#developing-ditto">Developing DiTTo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#types-of-contributions">Types of Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#fix-bugs">Fix Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#implement-features">Implement Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#submit-feedback">Submit Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#tips">Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide/index.html">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer-guide/install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer-guide/style.html">Style Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer-guide/style.html#naming-conventions">Naming Conventions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer-guide/docs.html">Generating Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="authors.html#development-team">Development Team</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DiTTo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>DiTTo examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cli-examples.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="ditto-examples">
<h1>DiTTo examples<a class="headerlink" href="#ditto-examples" title="Permalink to this headline">¶</a></h1>
<p>DiTTo basic usage is the conversion from one format to another. This
readme explains how a basic conversion can be done with the command line
and with a Python script.</p>
<p>Conversion examples with more advanced features can be found in the
examples sub-folders.</p>
<div class="section" id="basic-usage-converting-from-one-format-to-another">
<h2>Basic usage: Converting from one format to another<a class="headerlink" href="#basic-usage-converting-from-one-format-to-another" title="Permalink to this headline">¶</a></h2>
<div class="section" id="method-1-through-the-command-line">
<h3>Method 1: Through the command line<a class="headerlink" href="#method-1-through-the-command-line" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-convert-command">
<h4>The convert command<a class="headerlink" href="#the-convert-command" title="Permalink to this headline">¶</a></h4>
<p>DiTTo supports a command line interface (CLI) to quickly convert a
model. The command is simply:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert
</pre></div>
</div>
<p>Help can be obtained using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --help
</pre></div>
</div>
</div>
<div class="section" id="from-and-to">
<h4>From and To<a class="headerlink" href="#from-and-to" title="Permalink to this headline">¶</a></h4>
<p>The options <code class="docutils literal notranslate"><span class="pre">—from</span></code> and <code class="docutils literal notranslate"><span class="pre">—to</span></code> are easy to understand, they just tell
<code class="docutils literal notranslate"><span class="pre">ditto-cli</span> <span class="pre">convert</span></code> what format is expected for the input, and what
format is desired for the output. If we want to convert from opendss to
gridlabd, we can use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --from opendss --to gridlabd
</pre></div>
</div>
<p>Note that, we can use short-cut names for the format like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --from dss --to glm
</pre></div>
</div>
</div>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p>In addition to the formats, we need to provide some input to DiTTo. The
main issue here is that inputs are very different accross formats. It is
common practice in OpenDSS for example to use master files to redirect
all the other dss files, while a Cyme ASCII model is composed of three
files: equipment, network, and loads.</p>
<p>To be consistent, the CLI accepts only one file whatever the format. If
we have a gridlabd model entirely stored in a file called <code class="docutils literal notranslate"><span class="pre">model.glm</span></code>
we can use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --from glm --input ./model.glm --to cyme
</pre></div>
</div>
<p>For formats like Cyme where we need multiple input files, we need to
write a simple JSON configuration file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>!Content of config.json
{
    &quot;data_folder_path&quot;: &quot;/home/cyme_models/ieee_13node/&quot;,
    &quot;network_filename&quot;: &quot;net.txt&quot;,
    &quot;equipment_filename&quot;: &quot;equip.txt&quot;,
    &quot;load_filename&quot;: &quot;loads.txt&quot;
}
</pre></div>
</div>
<p>Which results in the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --from cyme --input ./config.json --to dss
</pre></div>
</div>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p>Finally, we need to tell <code class="docutils literal notranslate"><span class="pre">ditto-cli</span> <span class="pre">convert</span></code> where to write the
output. This is done with the <code class="docutils literal notranslate"><span class="pre">—output</span></code> option. Make sure to provide
the path to the folder you want the files to be written in. For example,
if we want to output in a folder named <code class="docutils literal notranslate"><span class="pre">./results</span></code> we do the
following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --from cyme --input ./config.json --to dss --output ./results/
</pre></div>
</div>
</div>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="section" id="convert-the-ieee-4-node-from-gridlabd-to-opendss">
<h4>Convert the IEEE 4 node from GridlabD to OpenDSS<a class="headerlink" href="#convert-the-ieee-4-node-from-gridlabd-to-opendss" title="Permalink to this headline">¶</a></h4>
<p>Run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --input ../tests/data/gridlabd/4node.glm --from glm --to dss --output ./
</pre></div>
</div>
</div>
<div class="section" id="convert-the-ieee-13-node-from-opendss-to-cyme">
<h4>Convert the IEEE 13 node from OpenDSS to CYME<a class="headerlink" href="#convert-the-ieee-13-node-from-opendss-to-cyme" title="Permalink to this headline">¶</a></h4>
<p>Here, we use the configuration file:
<code class="docutils literal notranslate"><span class="pre">ditto/examples/ieee_13node_opendss_input.json</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ditto-cli convert --input ../examples/ieee_13node_opendss_input.json --from opendss --to cyme --output ./
</pre></div>
</div>
</div>
</div>
<div class="section" id="method-2-writing-a-script">
<h3>Method 2: Writing a script<a class="headerlink" href="#method-2-writing-a-script" title="Permalink to this headline">¶</a></h3>
<p>This is a more advanced method which provides more flexibility and
enable the user to access all the functionality of DiTTo. The basic
conversion scripts usually go through the following steps:</p>
<div class="section" id="step-1-import-the-required-modules">
<h4>Step 1: Import the required modules<a class="headerlink" href="#step-1-import-the-required-modules" title="Permalink to this headline">¶</a></h4>
<p>For basic conversion usage, we need to import a reader, a writer, and a
<code class="docutils literal notranslate"><span class="pre">Store</span></code> object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Import the reader</span>
<span class="c1">#...assuming we want to read from OpenDSS</span>
<span class="kn">from</span> <span class="nn">ditto.readers.opendss.read</span> <span class="kn">import</span> <span class="n">Reader</span>

<span class="c1">#Import the writer</span>
<span class="c1">#...assuming we want to write to Cyme</span>
<span class="kn">from</span> <span class="nn">ditto.writers.cyme.write</span> <span class="kn">import</span> <span class="n">Writer</span>

<span class="c1">#Import the Store</span>
<span class="c1">#...this will always be the same</span>
<span class="kn">from</span> <span class="nn">ditto.store</span> <span class="kn">import</span> <span class="n">Store</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-instanciate-an-empty-store">
<h4>Step 2: Instanciate an empty store<a class="headerlink" href="#step-2-instanciate-an-empty-store" title="Permalink to this headline">¶</a></h4>
<p>This step is pretty straightforward:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3-instanciate-a-reader">
<h4>Step 3: Instanciate a reader<a class="headerlink" href="#step-3-instanciate-a-reader" title="Permalink to this headline">¶</a></h4>
<p>This is probably the most delicate step because every reader is a bit
different and expects various number of files. Refer to the
documentation to know what needs to be provided. In this OpenDSS—&gt;Cyme
example, we need to provide a master file and a buscoordinate file to
the OpenDSS reader:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dss_reader</span> <span class="o">=</span> <span class="n">Reader</span><span class="p">(</span><span class="n">master_file</span><span class="o">=</span><span class="s2">&quot;./dss_models/ieee_13node/master.dss&quot;</span><span class="p">,</span>
                    <span class="n">buscoordinate_file</span><span class="o">=</span><span class="s2">&quot;./dss_models/ieee_13node/buscoord.dss&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4-parse">
<h4>Step 4: Parse<a class="headerlink" href="#step-4-parse" title="Permalink to this headline">¶</a></h4>
<p>This is also pretty simple. We just need to provide the emty <code class="docutils literal notranslate"><span class="pre">Store</span></code>
object we created as an argument of the <code class="docutils literal notranslate"><span class="pre">parse</span></code> method. All readers
implement a <code class="docutils literal notranslate"><span class="pre">parse</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dss_reader</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-5-instanciate-the-writer">
<h4>Step 5: Instanciate the writer<a class="headerlink" href="#step-5-instanciate-the-writer" title="Permalink to this headline">¶</a></h4>
<p>All writers are instanciated in the same way. We only need to provide
the path to the output folder:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cyme_writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">(</span><span class="n">output_path</span><span class="o">=</span><span class="s2">&quot;/results/ieee_13node/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-6-write">
<h4>Step 6: Write<a class="headerlink" href="#step-6-write" title="Permalink to this headline">¶</a></h4>
<p>Simply use the <code class="docutils literal notranslate"><span class="pre">write</span></code> method implemented by all ditto writers. We
just need to provide, once again, the <code class="docutils literal notranslate"><span class="pre">Store</span></code> object as an argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cyme_writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="notes.html" class="btn btn-neutral float-right" title="Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usage.html" class="btn btn-neutral" title="Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Alliance for Sustainable Energy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>